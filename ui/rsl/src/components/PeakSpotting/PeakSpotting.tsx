import React, { useEffect, useRef } from "react";
import HorizontalTripDisplay from "./HorizontalTripDisplay";

import HorizontalTripDisplayTitle from "./HorizontalTripDisplayTitle";
import VerticalTripDisplay from "./VerticalTripDiplay";

import "./HorizontalTripDisplay.css";
import { colorSchema } from "../../config";

type TripPage2Props = {
  width: number; //
  height: number;
};

const testData = {
  tsi: {
    trip: {
      station_id: "8506302",
      train_nr: 1516,
      time: 1635146880,
      target_station_id: "8501120",
      target_time: 1635158700,
      line_id: "5",
    },
    primary_station: {
      id: "8506302",
      name: "St. Gallen",
      pos: {
        lat: 47.423179,
        lng: 9.369897,
      },
    },
    secondary_station: {
      id: "8501120",
      name: "Lausanne",
      pos: {
        lat: 46.516792,
        lng: 6.629092,
      },
    },
    service_infos: [
      {
        name: "IC 5",
        category: "IC",
        train_nr: 1516,
        line: "5",
        provider: "Schweizerische Bundesbahnen SBB",
        clasz: 2,
      },
    ],
  },
  edges: [
    {
      from: {
        id: "8506302",
        name: "St. Gallen",
        pos: {
          lat: 47.423179,
          lng: 9.369897,
        },
      },
      to: {
        id: "8506000",
        name: "Winterthur",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      departure_schedule_time: 1635146880,
      departure_current_time: 1635146880,
      arrival_schedule_time: 1635148860,
      arrival_current_time: 1635148860,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 250,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 250,
      p_load_gt_100: 1,
      q_20: 250,
      q_50: 250,
      q_80: 250,
      q_5: 250,
      q_95: 250,
      min_pax: 250,
      max_pax: 250,
    },
    {
      from: {
        id: "8506000",
        name: "Winterthur",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      to: {
        id: "8503016",
        name: "Zürich Flughafen",
        pos: {
          lat: 47.450386,
          lng: 8.562402,
        },
      },
      departure_schedule_time: 1635148980,
      departure_current_time: 1635148980,
      arrival_schedule_time: 1635149760,
      arrival_current_time: 1635149760,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 508,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 508,
      p_load_gt_100: 0,
      q_20: 508,
      q_50: 508,
      q_80: 508,
      q_5: 508,
      q_95: 508,
      min_pax: 508,
      max_pax: 508,
    },
    {
      from: {
        id: "8503016",
        name: "Zürich Flughafen",
        pos: {
          lat: 47.450386,
          lng: 8.562402,
        },
      },
      to: {
        id: "8503000",
        name: "Zürich HB",
        pos: {
          lat: 47.378177,
          lng: 8.540212,
        },
      },
      departure_schedule_time: 1635149880,
      departure_current_time: 1635149880,
      arrival_schedule_time: 1635150420,
      arrival_current_time: 1635150420,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 511,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 511,
      p_load_gt_100: 0,
      q_20: 511,
      q_50: 511,
      q_80: 511,
      q_5: 511,
      q_95: 511,
      min_pax: 511,
      max_pax: 511,
    },
    {
      from: {
        id: "8503000",
        name: "Zürich HB",
        pos: {
          lat: 47.378177,
          lng: 8.540212,
        },
      },
      to: {
        id: "8500218",
        name: "Olten",
        pos: {
          lat: 47.351935,
          lng: 7.9077,
        },
      },
      departure_schedule_time: 1635150600,
      departure_current_time: 1635150600,
      arrival_schedule_time: 1635152400,
      arrival_current_time: 1635152400,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 766,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 766,
      p_load_gt_100: 1,
      q_20: 766,
      q_50: 766,
      q_80: 766,
      q_5: 766,
      q_95: 766,
      min_pax: 766,
      max_pax: 766,
    },
    {
      from: {
        id: "8500218",
        name: "Olten",
        pos: {
          lat: 47.351935,
          lng: 7.9077,
        },
      },
      to: {
        id: "8500212",
        name: "Oensingen",
        pos: {
          lat: 47.285035,
          lng: 7.70987,
        },
      },
      departure_schedule_time: 1635152520,
      departure_current_time: 1635152520,
      arrival_schedule_time: 1635153180,
      arrival_current_time: 1635153180,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 775,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 775,
      p_load_gt_100: 1,
      q_20: 775,
      q_50: 775,
      q_80: 775,
      q_5: 775,
      q_95: 775,
      min_pax: 775,
      max_pax: 775,
    },
    {
      from: {
        id: "8500212",
        name: "Oensingen",
        pos: {
          lat: 47.285035,
          lng: 7.70987,
        },
      },
      to: {
        id: "8500207",
        name: "Solothurn",
        pos: {
          lat: 47.204193,
          lng: 7.542689,
        },
      },
      departure_schedule_time: 1635153240,
      departure_current_time: 1635153240,
      arrival_schedule_time: 1635153840,
      arrival_current_time: 1635153840,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 776,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 776,
      p_load_gt_100: 1,
      q_20: 776,
      q_50: 776,
      q_80: 776,
      q_5: 776,
      q_95: 776,
      min_pax: 776,
      max_pax: 776,
    },
    {
      from: {
        id: "8500207",
        name: "Solothurn",
        pos: {
          lat: 47.204193,
          lng: 7.542689,
        },
      },
      to: {
        id: "8500202",
        name: "Grenchen Süd",
        pos: {
          lat: 47.188775,
          lng: 7.39818,
        },
      },
      departure_schedule_time: 1635153960,
      departure_current_time: 1635153960,
      arrival_schedule_time: 1635154380,
      arrival_current_time: 1635154380,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 735,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 735,
      p_load_gt_100: 1,
      q_20: 735,
      q_50: 735,
      q_80: 735,
      q_5: 735,
      q_95: 735,
      min_pax: 735,
      max_pax: 735,
    },
    {
      from: {
        id: "8500202",
        name: "Grenchen Süd",
        pos: {
          lat: 47.188775,
          lng: 7.39818,
        },
      },
      to: {
        id: "8504300",
        name: "Biel/Bienne",
        pos: {
          lat: 47.132898,
          lng: 7.242911,
        },
      },
      departure_schedule_time: 1635154440,
      departure_current_time: 1635154440,
      arrival_schedule_time: 1635154980,
      arrival_current_time: 1635154980,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 711,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 711,
      p_load_gt_100: 1,
      q_20: 711,
      q_50: 711,
      q_80: 711,
      q_5: 711,
      q_95: 711,
      min_pax: 711,
      max_pax: 711,
    },
    {
      from: {
        id: "8504300",
        name: "Biel/Bienne",
        pos: {
          lat: 47.132898,
          lng: 7.242911,
        },
      },
      to: {
        id: "8504221",
        name: "Neuchâtel",
        pos: {
          lat: 46.996727,
          lng: 6.935702,
        },
      },
      departure_schedule_time: 1635155100,
      departure_current_time: 1635155100,
      arrival_schedule_time: 1635156060,
      arrival_current_time: 1635156060,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 450,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 450,
      p_load_gt_100: 1,
      q_20: 450,
      q_50: 450,
      q_80: 450,
      q_5: 450,
      q_95: 450,
      min_pax: 450,
      max_pax: 450,
    },
    {
      from: {
        id: "8504221",
        name: "Neuchâtel",
        pos: {
          lat: 46.996727,
          lng: 6.935702,
        },
      },
      to: {
        id: "8504200",
        name: "Yverdon-les-Bains",
        pos: {
          lat: 46.781545,
          lng: 6.640944,
        },
      },
      departure_schedule_time: 1635156180,
      departure_current_time: 1635156180,
      arrival_schedule_time: 1635157200,
      arrival_current_time: 1635157200,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 447,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 447,
      p_load_gt_100: 1,
      q_20: 447,
      q_50: 447,
      q_80: 447,
      q_5: 447,
      q_95: 447,
      min_pax: 447,
      max_pax: 447,
    },
    {
      from: {
        id: "8504200",
        name: "Yverdon-les-Bains",
        pos: {
          lat: 46.781545,
          lng: 6.640944,
        },
      },
      to: {
        id: "8501120",
        name: "Lausanne",
        pos: {
          lat: 46.516792,
          lng: 6.629092,
        },
      },
      departure_schedule_time: 1635157320,
      departure_current_time: 1635157320,
      arrival_schedule_time: 1635158700,
      arrival_current_time: 1635158700,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 353,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 353,
      p_load_gt_100: 1,
      q_20: 353,
      q_50: 353,
      q_80: 353,
      q_5: 353,
      q_95: 353,
      min_pax: 353,
      max_pax: 353,
    },
  ],
};

const testData2 = {
  tsi: {
    trip: {
      station_id: "8501120",
      train_nr: 1517,
      time: 1635146100,
      target_station_id: "8506302",
      target_time: 1635157920,
      line_id: "5",
    },
    primary_station: {
      id: "8501120",
      name: "Lausanne",
      pos: {
        lat: 46.516792,
        lng: 6.629092,
      },
    },
    secondary_station: {
      id: "8506302",
      name: "St. Gallen",
      pos: {
        lat: 47.423179,
        lng: 9.369897,
      },
    },
    service_infos: [
      {
        name: "IC 5",
        category: "IC",
        train_nr: 1517,
        line: "5",
        provider: "Schweizerische Bundesbahnen SBB",
        clasz: 2,
      },
    ],
  },
  edges: [
    {
      from: {
        id: "8501120",
        name: "Lausanne",
        pos: {
          lat: 46.516792,
          lng: 6.629092,
        },
      },
      to: {
        id: "8504200",
        name: "Yverdon-les-Bains",
        pos: {
          lat: 46.781545,
          lng: 6.640944,
        },
      },
      departure_schedule_time: 1635146100,
      departure_current_time: 1635146100,
      arrival_schedule_time: 1635147420,
      arrival_current_time: 1635147420,
      capacity_type: "Known",
      capacity: 463,
      passenger_cdf: [
        {
          passengers: 673,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 673,
      p_load_gt_100: 1,
      q_20: 673,
      q_50: 673,
      q_80: 673,
      q_5: 673,
      q_95: 673,
      min_pax: 673,
      max_pax: 673,
    },
    {
      from: {
        id: "8504200",
        name: "Yverdon-les-Bains",
        pos: {
          lat: 46.781545,
          lng: 6.640944,
        },
      },
      to: {
        id: "8504221",
        name: "Neuchâtel",
        pos: {
          lat: 46.996727,
          lng: 6.935702,
        },
      },
      departure_schedule_time: 1635147540,
      departure_current_time: 1635147540,
      arrival_schedule_time: 1635148560,
      arrival_current_time: 1635148560,
      capacity_type: "Known",
      capacity: 463,
      passenger_cdf: [
        {
          passengers: 673,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 673,
      p_load_gt_100: 1,
      q_20: 673,
      q_50: 673,
      q_80: 673,
      q_5: 673,
      q_95: 673,
      min_pax: 673,
      max_pax: 673,
    },
    {
      from: {
        id: "8504221",
        name: "Neuchâtel",
        pos: {
          lat: 46.996727,
          lng: 6.935702,
        },
      },
      to: {
        id: "8504300",
        name: "Biel/Bienne",
        pos: {
          lat: 47.132898,
          lng: 7.242911,
        },
      },
      departure_schedule_time: 1635148680,
      departure_current_time: 1635148680,
      arrival_schedule_time: 1635149700,
      arrival_current_time: 1635149700,
      capacity_type: "Known",
      capacity: 463,
      passenger_cdf: [
        {
          passengers: 673,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 673,
      p_load_gt_100: 1,
      q_20: 673,
      q_50: 673,
      q_80: 673,
      q_5: 673,
      q_95: 673,
      min_pax: 673,
      max_pax: 673,
    },
    {
      from: {
        id: "8504300",
        name: "Biel/Bienne",
        pos: {
          lat: 47.132898,
          lng: 7.242911,
        },
      },
      to: {
        id: "8500202",
        name: "Grenchen Süd",
        pos: {
          lat: 47.188775,
          lng: 7.39818,
        },
      },
      departure_schedule_time: 1635149820,
      departure_current_time: 1635149820,
      arrival_schedule_time: 1635150300,
      arrival_current_time: 1635150300,
      capacity_type: "Known",
      capacity: 463,
      passenger_cdf: [
        {
          passengers: 669,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 669,
      p_load_gt_100: 1,
      q_20: 669,
      q_50: 669,
      q_80: 669,
      q_5: 669,
      q_95: 669,
      min_pax: 669,
      max_pax: 669,
    },
    {
      from: {
        id: "8500202",
        name: "Grenchen Süd",
        pos: {
          lat: 47.188775,
          lng: 7.39818,
        },
      },
      to: {
        id: "8500207",
        name: "Solothurn",
        pos: {
          lat: 47.204193,
          lng: 7.542689,
        },
      },
      departure_schedule_time: 1635150360,
      departure_current_time: 1635150360,
      arrival_schedule_time: 1635150780,
      arrival_current_time: 1635150780,
      capacity_type: "Known",
      capacity: 463,
      passenger_cdf: [
        {
          passengers: 662,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 662,
      p_load_gt_100: 1,
      q_20: 662,
      q_50: 662,
      q_80: 662,
      q_5: 662,
      q_95: 662,
      min_pax: 662,
      max_pax: 662,
    },
    {
      from: {
        id: "8500207",
        name: "Solothurn",
        pos: {
          lat: 47.204193,
          lng: 7.542689,
        },
      },
      to: {
        id: "8500212",
        name: "Oensingen",
        pos: {
          lat: 47.285035,
          lng: 7.70987,
        },
      },
      departure_schedule_time: 1635150840,
      departure_current_time: 1635150840,
      arrival_schedule_time: 1635151500,
      arrival_current_time: 1635151500,
      capacity_type: "Known",
      capacity: 463,
      passenger_cdf: [
        {
          passengers: 684,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 684,
      p_load_gt_100: 1,
      q_20: 684,
      q_50: 684,
      q_80: 684,
      q_5: 684,
      q_95: 684,
      min_pax: 684,
      max_pax: 684,
    },
    {
      from: {
        id: "8500212",
        name: "Oensingen",
        pos: {
          lat: 47.285035,
          lng: 7.70987,
        },
      },
      to: {
        id: "8500218",
        name: "Olten",
        pos: {
          lat: 47.351935,
          lng: 7.9077,
        },
      },
      departure_schedule_time: 1635151560,
      departure_current_time: 1635151560,
      arrival_schedule_time: 1635152220,
      arrival_current_time: 1635152220,
      capacity_type: "Known",
      capacity: 463,
      passenger_cdf: [
        {
          passengers: 684,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 684,
      p_load_gt_100: 1,
      q_20: 684,
      q_50: 684,
      q_80: 684,
      q_5: 684,
      q_95: 684,
      min_pax: 684,
      max_pax: 684,
    },
    {
      from: {
        id: "8500218",
        name: "Olten",
        pos: {
          lat: 47.351935,
          lng: 7.9077,
        },
      },
      to: {
        id: "8503000",
        name: "Zürich HB",
        pos: {
          lat: 47.378177,
          lng: 8.540212,
        },
      },
      departure_schedule_time: 1635152340,
      departure_current_time: 1635152340,
      arrival_schedule_time: 1635154200,
      arrival_current_time: 1635154200,
      capacity_type: "Known",
      capacity: 463,
      passenger_cdf: [
        {
          passengers: 618,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 618,
      p_load_gt_100: 1,
      q_20: 618,
      q_50: 618,
      q_80: 618,
      q_5: 618,
      q_95: 618,
      min_pax: 618,
      max_pax: 618,
    },
    {
      from: {
        id: "8503000",
        name: "Zürich HB",
        pos: {
          lat: 47.378177,
          lng: 8.540212,
        },
      },
      to: {
        id: "8503016",
        name: "Zürich Flughafen",
        pos: {
          lat: 47.450386,
          lng: 8.562402,
        },
      },
      departure_schedule_time: 1635154380,
      departure_current_time: 1635154380,
      arrival_schedule_time: 1635154920,
      arrival_current_time: 1635154920,
      capacity_type: "Known",
      capacity: 463,
      passenger_cdf: [
        {
          passengers: 614,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 614,
      p_load_gt_100: 1,
      q_20: 614,
      q_50: 614,
      q_80: 614,
      q_5: 614,
      q_95: 614,
      min_pax: 614,
      max_pax: 614,
    },
    {
      from: {
        id: "8503016",
        name: "Zürich Flughafen",
        pos: {
          lat: 47.450386,
          lng: 8.562402,
        },
      },
      to: {
        id: "8506000",
        name: "Winterthur",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      departure_schedule_time: 1635154980,
      departure_current_time: 1635154980,
      arrival_schedule_time: 1635155820,
      arrival_current_time: 1635155820,
      capacity_type: "Known",
      capacity: 463,
      passenger_cdf: [
        {
          passengers: 561,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 561,
      p_load_gt_100: 1,
      q_20: 561,
      q_50: 561,
      q_80: 561,
      q_5: 561,
      q_95: 561,
      min_pax: 561,
      max_pax: 561,
    },
    {
      from: {
        id: "8506000",
        name: "Winterthur",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      to: {
        id: "8506302",
        name: "St. Gallen",
        pos: {
          lat: 47.423179,
          lng: 9.369897,
        },
      },
      departure_schedule_time: 1635155940,
      departure_current_time: 1635155940,
      arrival_schedule_time: 1635157920,
      arrival_current_time: 1635157920,
      capacity_type: "Known",
      capacity: 463,
      passenger_cdf: [
        {
          passengers: 661,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 661,
      p_load_gt_100: 1,
      q_20: 661,
      q_50: 661,
      q_80: 661,
      q_5: 661,
      q_95: 661,
      min_pax: 661,
      max_pax: 661,
    },
  ],
};

const testData3 = {
  tsi: {
    trip: {
      station_id: "8503276",
      train_nr: 14,
      time: 1635152340,
      target_station_id: "8577526",
      target_time: 1635153960,
      line_id: "541",
    },
    primary_station: {
      id: "8503276",
      name: "Elm, Sportbahnen",
      pos: {
        lat: 46.913325,
        lng: 9.162214,
      },
    },
    secondary_station: {
      id: "8577526",
      name: "Schwanden GL, Bahnhof",
      pos: {
        lat: 46.99681,
        lng: 9.07763,
      },
    },
    service_infos: [
      {
        name: "B 541",
        category: "B",
        train_nr: 14,
        line: "541",
        provider: "Autobetrieb Sernftal",
        clasz: 10,
      },
    ],
  },
  edges: [
    {
      from: {
        id: "8503276",
        name: "Elm, Sportbahnen",
        pos: {
          lat: 46.913325,
          lng: 9.162214,
        },
      },
      to: {
        id: "8588281",
        name: "Elm, Obmoos",
        pos: {
          lat: 46.914517,
          lng: 9.165496,
        },
      },
      departure_schedule_time: 1635152340,
      departure_current_time: 1635152340,
      arrival_schedule_time: 1635152400,
      arrival_current_time: 1635152400,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 0,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 0,
      p_load_gt_100: 0,
      q_20: 0,
      q_50: 0,
      q_80: 0,
      q_5: 0,
      q_95: 0,
      min_pax: 0,
      max_pax: 0,
    },
    {
      from: {
        id: "8588281",
        name: "Elm, Obmoos",
        pos: {
          lat: 46.914517,
          lng: 9.165496,
        },
      },
      to: {
        id: "8503615",
        name: "Elm, Altersheim",
        pos: {
          lat: 46.916112,
          lng: 9.168304,
        },
      },
      departure_schedule_time: 1635152400,
      departure_current_time: 1635152400,
      arrival_schedule_time: 1635152400,
      arrival_current_time: 1635152400,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 0,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 0,
      p_load_gt_100: 0,
      q_20: 0,
      q_50: 0,
      q_80: 0,
      q_5: 0,
      q_95: 0,
      min_pax: 0,
      max_pax: 0,
    },
    {
      from: {
        id: "8503615",
        name: "Elm, Altersheim",
        pos: {
          lat: 46.916112,
          lng: 9.168304,
        },
      },
      to: {
        id: "8503616",
        name: "Elm, Dorf",
        pos: {
          lat: 46.918919,
          lng: 9.171888,
        },
      },
      departure_schedule_time: 1635152400,
      departure_current_time: 1635152400,
      arrival_schedule_time: 1635152460,
      arrival_current_time: 1635152460,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 0,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 0,
      p_load_gt_100: 0,
      q_20: 0,
      q_50: 0,
      q_80: 0,
      q_5: 0,
      q_95: 0,
      min_pax: 0,
      max_pax: 0,
    },
    {
      from: {
        id: "8503616",
        name: "Elm, Dorf",
        pos: {
          lat: 46.918919,
          lng: 9.171888,
        },
      },
      to: {
        id: "8503277",
        name: "Elm, Station",
        pos: {
          lat: 46.922267,
          lng: 9.173059,
        },
      },
      departure_schedule_time: 1635152460,
      departure_current_time: 1635152460,
      arrival_schedule_time: 1635152580,
      arrival_current_time: 1635152580,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 0,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 0,
      p_load_gt_100: 0,
      q_20: 0,
      q_50: 0,
      q_80: 0,
      q_5: 0,
      q_95: 0,
      min_pax: 0,
      max_pax: 0,
    },
    {
      from: {
        id: "8503277",
        name: "Elm, Station",
        pos: {
          lat: 46.922267,
          lng: 9.173059,
        },
      },
      to: {
        id: "8503266",
        name: "Elm, Schwändi",
        pos: {
          lat: 46.930328,
          lng: 9.172479,
        },
      },
      departure_schedule_time: 1635152640,
      departure_current_time: 1635152640,
      arrival_schedule_time: 1635152700,
      arrival_current_time: 1635152700,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 0,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 0,
      p_load_gt_100: 0,
      q_20: 0,
      q_50: 0,
      q_80: 0,
      q_5: 0,
      q_95: 0,
      min_pax: 0,
      max_pax: 0,
    },
    {
      from: {
        id: "8503266",
        name: "Elm, Schwändi",
        pos: {
          lat: 46.930328,
          lng: 9.172479,
        },
      },
      to: {
        id: "8503258",
        name: "Elm, Meissenboden",
        pos: {
          lat: 46.940335,
          lng: 9.16936,
        },
      },
      departure_schedule_time: 1635152700,
      departure_current_time: 1635152700,
      arrival_schedule_time: 1635152760,
      arrival_current_time: 1635152760,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 0,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 0,
      p_load_gt_100: 0,
      q_20: 0,
      q_50: 0,
      q_80: 0,
      q_5: 0,
      q_95: 0,
      min_pax: 0,
      max_pax: 0,
    },
    {
      from: {
        id: "8503258",
        name: "Elm, Meissenboden",
        pos: {
          lat: 46.940335,
          lng: 9.16936,
        },
      },
      to: {
        id: "8589545",
        name: "Matt, Brummbach",
        pos: {
          lat: 46.954559,
          lng: 9.171198,
        },
      },
      departure_schedule_time: 1635152760,
      departure_current_time: 1635152760,
      arrival_schedule_time: 1635152880,
      arrival_current_time: 1635152880,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 42,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 42,
      p_load_gt_100: 1,
      q_20: 42,
      q_50: 42,
      q_80: 42,
      q_5: 42,
      q_95: 42,
      min_pax: 42,
      max_pax: 42,
    },
    {
      from: {
        id: "8589545",
        name: "Matt, Brummbach",
        pos: {
          lat: 46.954559,
          lng: 9.171198,
        },
      },
      to: {
        id: "8503274",
        name: "Matt, Station",
        pos: {
          lat: 46.957949,
          lng: 9.171386,
        },
      },
      departure_schedule_time: 1635152880,
      departure_current_time: 1635152880,
      arrival_schedule_time: 1635152940,
      arrival_current_time: 1635152940,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 42,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 42,
      p_load_gt_100: 1,
      q_20: 42,
      q_50: 42,
      q_80: 42,
      q_5: 42,
      q_95: 42,
      min_pax: 42,
      max_pax: 42,
    },
    {
      from: {
        id: "8503274",
        name: "Matt, Station",
        pos: {
          lat: 46.957949,
          lng: 9.171386,
        },
      },
      to: {
        id: "8503255",
        name: "Matt, Dorf",
        pos: {
          lat: 46.961633,
          lng: 9.170467,
        },
      },
      departure_schedule_time: 1635152940,
      departure_current_time: 1635152940,
      arrival_schedule_time: 1635153060,
      arrival_current_time: 1635153060,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 42,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 42,
      p_load_gt_100: 1,
      q_20: 42,
      q_50: 42,
      q_80: 42,
      q_5: 42,
      q_95: 42,
      min_pax: 42,
      max_pax: 42,
    },
    {
      from: {
        id: "8503255",
        name: "Matt, Dorf",
        pos: {
          lat: 46.961633,
          lng: 9.170467,
        },
      },
      to: {
        id: "8589548",
        name: "Engi, Landesplattenberg",
        pos: {
          lat: 46.972786,
          lng: 9.162388,
        },
      },
      departure_schedule_time: 1635153060,
      departure_current_time: 1635153060,
      arrival_schedule_time: 1635153180,
      arrival_current_time: 1635153180,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 42,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 42,
      p_load_gt_100: 1,
      q_20: 42,
      q_50: 42,
      q_80: 42,
      q_5: 42,
      q_95: 42,
      min_pax: 42,
      max_pax: 42,
    },
    {
      from: {
        id: "8589548",
        name: "Engi, Landesplattenberg",
        pos: {
          lat: 46.972786,
          lng: 9.162388,
        },
      },
      to: {
        id: "8503273",
        name: "Engi, Hinterdorf",
        pos: {
          lat: 46.975092,
          lng: 9.159228,
        },
      },
      departure_schedule_time: 1635153180,
      departure_current_time: 1635153180,
      arrival_schedule_time: 1635153240,
      arrival_current_time: 1635153240,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 42,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 42,
      p_load_gt_100: 1,
      q_20: 42,
      q_50: 42,
      q_80: 42,
      q_5: 42,
      q_95: 42,
      min_pax: 42,
      max_pax: 42,
    },
    {
      from: {
        id: "8503273",
        name: "Engi, Hinterdorf",
        pos: {
          lat: 46.975092,
          lng: 9.159228,
        },
      },
      to: {
        id: "8503270",
        name: "Engi, Dorf",
        pos: {
          lat: 46.980537,
          lng: 9.153724,
        },
      },
      departure_schedule_time: 1635153240,
      departure_current_time: 1635153240,
      arrival_schedule_time: 1635153300,
      arrival_current_time: 1635153300,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 42,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 42,
      p_load_gt_100: 1,
      q_20: 42,
      q_50: 42,
      q_80: 42,
      q_5: 42,
      q_95: 42,
      min_pax: 42,
      max_pax: 42,
    },
    {
      from: {
        id: "8503270",
        name: "Engi, Dorf",
        pos: {
          lat: 46.980537,
          lng: 9.153724,
        },
      },
      to: {
        id: "8503271",
        name: "Engi, Weberei",
        pos: {
          lat: 46.984921,
          lng: 9.151707,
        },
      },
      departure_schedule_time: 1635153300,
      departure_current_time: 1635153300,
      arrival_schedule_time: 1635153420,
      arrival_current_time: 1635153420,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 42,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 42,
      p_load_gt_100: 1,
      q_20: 42,
      q_50: 42,
      q_80: 42,
      q_5: 42,
      q_95: 42,
      min_pax: 42,
      max_pax: 42,
    },
    {
      from: {
        id: "8503271",
        name: "Engi, Weberei",
        pos: {
          lat: 46.984921,
          lng: 9.151707,
        },
      },
      to: {
        id: "8503272",
        name: "Engi, Vorderdorf",
        pos: {
          lat: 46.984757,
          lng: 9.144642,
        },
      },
      departure_schedule_time: 1635153420,
      departure_current_time: 1635153420,
      arrival_schedule_time: 1635153480,
      arrival_current_time: 1635153480,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 42,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 42,
      p_load_gt_100: 1,
      q_20: 42,
      q_50: 42,
      q_80: 42,
      q_5: 42,
      q_95: 42,
      min_pax: 42,
      max_pax: 42,
    },
    {
      from: {
        id: "8503272",
        name: "Engi, Vorderdorf",
        pos: {
          lat: 46.984757,
          lng: 9.144642,
        },
      },
      to: {
        id: "8503259",
        name: "Wart",
        pos: {
          lat: 46.998961,
          lng: 9.113058,
        },
      },
      departure_schedule_time: 1635153480,
      departure_current_time: 1635153480,
      arrival_schedule_time: 1635153660,
      arrival_current_time: 1635153660,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 42,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 42,
      p_load_gt_100: 1,
      q_20: 42,
      q_50: 42,
      q_80: 42,
      q_5: 42,
      q_95: 42,
      min_pax: 42,
      max_pax: 42,
    },
    {
      from: {
        id: "8503259",
        name: "Wart",
        pos: {
          lat: 46.998961,
          lng: 9.113058,
        },
      },
      to: {
        id: "8503618",
        name: "Schwanden GL, Au",
        pos: {
          lat: 46.99608,
          lng: 9.083367,
        },
      },
      departure_schedule_time: 1635153660,
      departure_current_time: 1635153660,
      arrival_schedule_time: 1635153780,
      arrival_current_time: 1635153780,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 42,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 42,
      p_load_gt_100: 1,
      q_20: 42,
      q_50: 42,
      q_80: 42,
      q_5: 42,
      q_95: 42,
      min_pax: 42,
      max_pax: 42,
    },
    {
      from: {
        id: "8503618",
        name: "Schwanden GL, Au",
        pos: {
          lat: 46.99608,
          lng: 9.083367,
        },
      },
      to: {
        id: "8577526",
        name: "Schwanden GL, Bahnhof",
        pos: {
          lat: 46.99681,
          lng: 9.07763,
        },
      },
      departure_schedule_time: 1635153780,
      departure_current_time: 1635153780,
      arrival_schedule_time: 1635153960,
      arrival_current_time: 1635153960,
      capacity_type: "Known",
      capacity: 29,
      passenger_cdf: [
        {
          passengers: 42,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 42,
      p_load_gt_100: 1,
      q_20: 42,
      q_50: 42,
      q_80: 42,
      q_5: 42,
      q_95: 42,
      min_pax: 42,
      max_pax: 42,
    },
    {
      from: {
        id: "8506302",
        name: "Time Wrap Test",
        pos: {
          lat: 47.423179,
          lng: 9.369897,
        },
      },
      to: {
        id: "8506000",
        name: "Time Wrap Test Destination",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      departure_schedule_time: 1646433000, // 23:30
      departure_current_time: 1646433000,
      arrival_schedule_time: 1646436120, // 00:22
      arrival_current_time: 1646436120,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 250,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 250,
      p_load_gt_100: 1,
      q_20: 250,
      q_50: 250,
      q_80: 250,
      q_5: 250,
      q_95: 250,
      min_pax: 250,
      max_pax: 250,
    },
    {
      from: {
        id: "8506302",
        name: "Time Wrap Test",
        pos: {
          lat: 47.423179,
          lng: 9.369897,
        },
      },
      to: {
        id: "8506000",
        name: "Time Wrap Test Destination",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      departure_schedule_time: 1646522718, // 23:30
      departure_current_time: 1646522718,
      arrival_schedule_time: 1646438718, // 00:22
      arrival_current_time: 1646438718,
      capacity_type: "Known",
      capacity: 522,
      passenger_cdf: [
        {
          passengers: 250,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 250,
      p_load_gt_100: 1,
      q_20: 250,
      q_50: 250,
      q_80: 250,
      q_5: 250,
      q_95: 250,
      min_pax: 250,
      max_pax: 250,
    },
  ],
};

const testData4 = {
  tsi: {
    trip: {
      station_id: "8503000",
      train_nr: 1526,
      time: 1635168600,
      target_station_id: "8501120",
      target_time: 1635176700,
      line_id: "5",
    },
    primary_station: {
      id: "8503000",
      name: "Zürich HB",
      pos: {
        lat: 47.378177,
        lng: 8.540212,
      },
    },
    secondary_station: {
      id: "8501120",
      name: "Lausanne",
      pos: {
        lat: 46.516792,
        lng: 6.629092,
      },
    },
    service_infos: [
      {
        name: "IC 5",
        category: "IC",
        train_nr: 1526,
        line: "5",
        provider: "Schweizerische Bundesbahnen SBB",
        clasz: 2,
      },
    ],
  },
  edges: [
    {
      from: {
        id: "8503000",
        name: "Zürich HB",
        pos: {
          lat: 47.378177,
          lng: 8.540212,
        },
      },
      to: {
        id: "8500218",
        name: "Olten",
        pos: {
          lat: 47.351935,
          lng: 7.9077,
        },
      },
      departure_schedule_time: 1635168600,
      departure_current_time: 1635168600,
      arrival_schedule_time: 1635170400,
      arrival_current_time: 1635170400,
      capacity_type: "Known",
      capacity: 435,
      passenger_cdf: [
        {
          passengers: 614,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 614,
      p_load_gt_100: 1,
      q_20: 614,
      q_50: 614,
      q_80: 614,
      q_5: 614,
      q_95: 614,
      min_pax: 614,
      max_pax: 614,
    },
    {
      from: {
        id: "8500218",
        name: "Olten",
        pos: {
          lat: 47.351935,
          lng: 7.9077,
        },
      },
      to: {
        id: "8500212",
        name: "Oensingen",
        pos: {
          lat: 47.285035,
          lng: 7.70987,
        },
      },
      departure_schedule_time: 1635170520,
      departure_current_time: 1635170520,
      arrival_schedule_time: 1635171180,
      arrival_current_time: 1635171180,
      capacity_type: "Known",
      capacity: 435,
      passenger_cdf: [
        {
          passengers: 584,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 584,
      p_load_gt_100: 1,
      q_20: 584,
      q_50: 584,
      q_80: 584,
      q_5: 584,
      q_95: 584,
      min_pax: 584,
      max_pax: 584,
    },
    {
      from: {
        id: "8500212",
        name: "Oensingen",
        pos: {
          lat: 47.285035,
          lng: 7.70987,
        },
      },
      to: {
        id: "8500207",
        name: "Solothurn",
        pos: {
          lat: 47.204193,
          lng: 7.542689,
        },
      },
      departure_schedule_time: 1635171240,
      departure_current_time: 1635171240,
      arrival_schedule_time: 1635171840,
      arrival_current_time: 1635171840,
      capacity_type: "Known",
      capacity: 435,
      passenger_cdf: [
        {
          passengers: 541,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 541,
      p_load_gt_100: 1,
      q_20: 541,
      q_50: 541,
      q_80: 541,
      q_5: 541,
      q_95: 541,
      min_pax: 541,
      max_pax: 541,
    },
    {
      from: {
        id: "8500207",
        name: "Solothurn",
        pos: {
          lat: 47.204193,
          lng: 7.542689,
        },
      },
      to: {
        id: "8500202",
        name: "Grenchen Süd",
        pos: {
          lat: 47.188775,
          lng: 7.39818,
        },
      },
      departure_schedule_time: 1635171960,
      departure_current_time: 1635171960,
      arrival_schedule_time: 1635172380,
      arrival_current_time: 1635172380,
      capacity_type: "Known",
      capacity: 435,
      passenger_cdf: [
        {
          passengers: 568,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 568,
      p_load_gt_100: 1,
      q_20: 568,
      q_50: 568,
      q_80: 568,
      q_5: 568,
      q_95: 568,
      min_pax: 568,
      max_pax: 568,
    },
    {
      from: {
        id: "8500202",
        name: "Grenchen Süd",
        pos: {
          lat: 47.188775,
          lng: 7.39818,
        },
      },
      to: {
        id: "8504300",
        name: "Biel/Bienne",
        pos: {
          lat: 47.132898,
          lng: 7.242911,
        },
      },
      departure_schedule_time: 1635172440,
      departure_current_time: 1635172440,
      arrival_schedule_time: 1635172980,
      arrival_current_time: 1635172980,
      capacity_type: "Known",
      capacity: 435,
      passenger_cdf: [
        {
          passengers: 600,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 600,
      p_load_gt_100: 1,
      q_20: 600,
      q_50: 600,
      q_80: 600,
      q_5: 600,
      q_95: 600,
      min_pax: 600,
      max_pax: 600,
    },
    {
      from: {
        id: "8504300",
        name: "Biel/Bienne",
        pos: {
          lat: 47.132898,
          lng: 7.242911,
        },
      },
      to: {
        id: "8504221",
        name: "Neuchâtel",
        pos: {
          lat: 46.996727,
          lng: 6.935702,
        },
      },
      departure_schedule_time: 1635173100,
      departure_current_time: 1635173100,
      arrival_schedule_time: 1635174060,
      arrival_current_time: 1635174060,
      capacity_type: "Known",
      capacity: 435,
      passenger_cdf: [
        {
          passengers: 597,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 597,
      p_load_gt_100: 1,
      q_20: 597,
      q_50: 597,
      q_80: 597,
      q_5: 597,
      q_95: 597,
      min_pax: 597,
      max_pax: 597,
    },
    {
      from: {
        id: "8504221",
        name: "Neuchâtel",
        pos: {
          lat: 46.996727,
          lng: 6.935702,
        },
      },
      to: {
        id: "8504200",
        name: "Yverdon-les-Bains",
        pos: {
          lat: 46.781545,
          lng: 6.640944,
        },
      },
      departure_schedule_time: 1635174180,
      departure_current_time: 1635174180,
      arrival_schedule_time: 1635175200,
      arrival_current_time: 1635175200,
      capacity_type: "Known",
      capacity: 435,
      passenger_cdf: [
        {
          passengers: 595,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 595,
      p_load_gt_100: 1,
      q_20: 595,
      q_50: 595,
      q_80: 595,
      q_5: 595,
      q_95: 595,
      min_pax: 595,
      max_pax: 595,
    },
    {
      from: {
        id: "8504200",
        name: "Yverdon-les-Bains",
        pos: {
          lat: 46.781545,
          lng: 6.640944,
        },
      },
      to: {
        id: "8501120",
        name: "Lausanne",
        pos: {
          lat: 46.516792,
          lng: 6.629092,
        },
      },
      departure_schedule_time: 1635175320,
      departure_current_time: 1635175320,
      arrival_schedule_time: 1635176700,
      arrival_current_time: 1635176700,
      capacity_type: "Known",
      capacity: 435,
      passenger_cdf: [
        {
          passengers: 562,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 562,
      p_load_gt_100: 1,
      q_20: 562,
      q_50: 562,
      q_80: 562,
      q_5: 562,
      q_95: 562,
      min_pax: 562,
      max_pax: 562,
    },
  ],
};
const testData5 = {
  tsi: {
    trip: {
      station_id: "8509000",
      train_nr: 3266,
      time: 1635149520,
      target_station_id: "8503000",
      target_time: 1635159060,
      line_id: "13",
    },
    primary_station: {
      id: "8509000",
      name: "Chur",
      pos: {
        lat: 46.853084,
        lng: 9.528938,
      },
    },
    secondary_station: {
      id: "8503000",
      name: "Zürich HB",
      pos: {
        lat: 47.378177,
        lng: 8.540212,
      },
    },
    service_infos: [
      {
        name: "IR 13",
        category: "IR",
        train_nr: 3266,
        line: "13",
        provider: "Schweizerische Bundesbahnen SBB",
        clasz: 5,
      },
    ],
  },
  edges: [
    {
      from: {
        id: "8509000",
        name: "Chur",
        pos: {
          lat: 46.853084,
          lng: 9.528938,
        },
      },
      to: {
        id: "8509002",
        name: "Landquart",
        pos: {
          lat: 46.96744,
          lng: 9.554045,
        },
      },
      departure_schedule_time: 1635149520,
      departure_current_time: 1635149520,
      arrival_schedule_time: 1635150000,
      arrival_current_time: 1635150000,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 30,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 30,
      p_load_gt_100: 0,
      q_20: 30,
      q_50: 30,
      q_80: 30,
      q_5: 30,
      q_95: 30,
      min_pax: 30,
      max_pax: 30,
    },
    {
      from: {
        id: "8509002",
        name: "Landquart",
        pos: {
          lat: 46.96744,
          lng: 9.554045,
        },
      },
      to: {
        id: "8509004",
        name: "Bad Ragaz",
        pos: {
          lat: 47.010309,
          lng: 9.505225,
        },
      },
      departure_schedule_time: 1635150060,
      departure_current_time: 1635150060,
      arrival_schedule_time: 1635150360,
      arrival_current_time: 1635150360,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 30,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 30,
      p_load_gt_100: 0,
      q_20: 30,
      q_50: 30,
      q_80: 30,
      q_5: 30,
      q_95: 30,
      min_pax: 30,
      max_pax: 30,
    },
    {
      from: {
        id: "8509004",
        name: "Bad Ragaz",
        pos: {
          lat: 47.010309,
          lng: 9.505225,
        },
      },
      to: {
        id: "8509411",
        name: "Sargans",
        pos: {
          lat: 47.044824,
          lng: 9.44626,
        },
      },
      departure_schedule_time: 1635150360,
      departure_current_time: 1635150360,
      arrival_schedule_time: 1635150720,
      arrival_current_time: 1635150720,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 30,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 30,
      p_load_gt_100: 0,
      q_20: 30,
      q_50: 30,
      q_80: 30,
      q_5: 30,
      q_95: 30,
      min_pax: 30,
      max_pax: 30,
    },
    {
      from: {
        id: "8509411",
        name: "Sargans",
        pos: {
          lat: 47.044824,
          lng: 9.44626,
        },
      },
      to: {
        id: "8509404",
        name: "Buchs SG",
        pos: {
          lat: 47.168412,
          lng: 9.478637,
        },
      },
      departure_schedule_time: 1635150960,
      departure_current_time: 1635150960,
      arrival_schedule_time: 1635151500,
      arrival_current_time: 1635151500,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 30,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 30,
      p_load_gt_100: 0,
      q_20: 30,
      q_50: 30,
      q_80: 30,
      q_5: 30,
      q_95: 30,
      min_pax: 30,
      max_pax: 30,
    },
    {
      from: {
        id: "8509404",
        name: "Buchs SG",
        pos: {
          lat: 47.168412,
          lng: 9.478637,
        },
      },
      to: {
        id: "8506319",
        name: "Altstätten SG",
        pos: {
          lat: 47.374235,
          lng: 9.55652,
        },
      },
      departure_schedule_time: 1635151500,
      departure_current_time: 1635151500,
      arrival_schedule_time: 1635152400,
      arrival_current_time: 1635152400,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 34,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 34,
      p_load_gt_100: 0,
      q_20: 34,
      q_50: 34,
      q_80: 34,
      q_5: 34,
      q_95: 34,
      min_pax: 34,
      max_pax: 34,
    },
    {
      from: {
        id: "8506319",
        name: "Altstätten SG",
        pos: {
          lat: 47.374235,
          lng: 9.55652,
        },
      },
      to: {
        id: "8506317",
        name: "Heerbrugg",
        pos: {
          lat: 47.410393,
          lng: 9.627249,
        },
      },
      departure_schedule_time: 1635152460,
      departure_current_time: 1635152460,
      arrival_schedule_time: 1635152760,
      arrival_current_time: 1635152760,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 40,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 40,
      p_load_gt_100: 0,
      q_20: 40,
      q_50: 40,
      q_80: 40,
      q_5: 40,
      q_95: 40,
      min_pax: 40,
      max_pax: 40,
    },
    {
      from: {
        id: "8506317",
        name: "Heerbrugg",
        pos: {
          lat: 47.410393,
          lng: 9.627249,
        },
      },
      to: {
        id: "8506314",
        name: "St. Margrethen SG",
        pos: {
          lat: 47.453216,
          lng: 9.638262,
        },
      },
      departure_schedule_time: 1635152820,
      departure_current_time: 1635152820,
      arrival_schedule_time: 1635153180,
      arrival_current_time: 1635153180,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 40,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 40,
      p_load_gt_100: 0,
      q_20: 40,
      q_50: 40,
      q_80: 40,
      q_5: 40,
      q_95: 40,
      min_pax: 40,
      max_pax: 40,
    },
    {
      from: {
        id: "8506314",
        name: "St. Margrethen SG",
        pos: {
          lat: 47.453216,
          lng: 9.638262,
        },
      },
      to: {
        id: "8506311",
        name: "Rorschach",
        pos: {
          lat: 47.478002,
          lng: 9.505141,
        },
      },
      departure_schedule_time: 1635153180,
      departure_current_time: 1635153180,
      arrival_schedule_time: 1635153660,
      arrival_current_time: 1635153660,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 40,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 40,
      p_load_gt_100: 0,
      q_20: 40,
      q_50: 40,
      q_80: 40,
      q_5: 40,
      q_95: 40,
      min_pax: 40,
      max_pax: 40,
    },
    {
      from: {
        id: "8506311",
        name: "Rorschach",
        pos: {
          lat: 47.478002,
          lng: 9.505141,
        },
      },
      to: {
        id: "8506302",
        name: "St. Gallen",
        pos: {
          lat: 47.423179,
          lng: 9.369897,
        },
      },
      departure_schedule_time: 1635153660,
      departure_current_time: 1635153660,
      arrival_schedule_time: 1635154500,
      arrival_current_time: 1635154500,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 40,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 40,
      p_load_gt_100: 0,
      q_20: 40,
      q_50: 40,
      q_80: 40,
      q_5: 40,
      q_95: 40,
      min_pax: 40,
      max_pax: 40,
    },
    {
      from: {
        id: "8506302",
        name: "St. Gallen",
        pos: {
          lat: 47.423179,
          lng: 9.369897,
        },
      },
      to: {
        id: "8506210",
        name: "Gossau SG",
        pos: {
          lat: 47.411832,
          lng: 9.253051,
        },
      },
      departure_schedule_time: 1635154620,
      departure_current_time: 1635154620,
      arrival_schedule_time: 1635155100,
      arrival_current_time: 1635155100,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 40,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 40,
      p_load_gt_100: 0,
      q_20: 40,
      q_50: 40,
      q_80: 40,
      q_5: 40,
      q_95: 40,
      min_pax: 40,
      max_pax: 40,
    },
    {
      from: {
        id: "8506210",
        name: "Gossau SG",
        pos: {
          lat: 47.411832,
          lng: 9.253051,
        },
      },
      to: {
        id: "8506209",
        name: "Flawil",
        pos: {
          lat: 47.415189,
          lng: 9.189786,
        },
      },
      departure_schedule_time: 1635155100,
      departure_current_time: 1635155100,
      arrival_schedule_time: 1635155400,
      arrival_current_time: 1635155400,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 51,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 51,
      p_load_gt_100: 0,
      q_20: 51,
      q_50: 51,
      q_80: 51,
      q_5: 51,
      q_95: 51,
      min_pax: 51,
      max_pax: 51,
    },
    {
      from: {
        id: "8506209",
        name: "Flawil",
        pos: {
          lat: 47.415189,
          lng: 9.189786,
        },
      },
      to: {
        id: "8506208",
        name: "Uzwil",
        pos: {
          lat: 47.436444,
          lng: 9.130992,
        },
      },
      departure_schedule_time: 1635155400,
      departure_current_time: 1635155400,
      arrival_schedule_time: 1635155700,
      arrival_current_time: 1635155700,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 51,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 51,
      p_load_gt_100: 0,
      q_20: 51,
      q_50: 51,
      q_80: 51,
      q_5: 51,
      q_95: 51,
      min_pax: 51,
      max_pax: 51,
    },
    {
      from: {
        id: "8506208",
        name: "Uzwil",
        pos: {
          lat: 47.436444,
          lng: 9.130992,
        },
      },
      to: {
        id: "8506206",
        name: "Wil SG",
        pos: {
          lat: 47.462413,
          lng: 9.040993,
        },
      },
      departure_schedule_time: 1635155760,
      departure_current_time: 1635155760,
      arrival_schedule_time: 1635156180,
      arrival_current_time: 1635156180,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 51,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 51,
      p_load_gt_100: 0,
      q_20: 51,
      q_50: 51,
      q_80: 51,
      q_5: 51,
      q_95: 51,
      min_pax: 51,
      max_pax: 51,
    },
    {
      from: {
        id: "8506206",
        name: "Wil SG",
        pos: {
          lat: 47.462413,
          lng: 9.040993,
        },
      },
      to: {
        id: "8506000",
        name: "Winterthur",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      departure_schedule_time: 1635156240,
      departure_current_time: 1635156240,
      arrival_schedule_time: 1635157320,
      arrival_current_time: 1635157320,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 124,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 124,
      p_load_gt_100: 0,
      q_20: 124,
      q_50: 124,
      q_80: 124,
      q_5: 124,
      q_95: 124,
      min_pax: 124,
      max_pax: 124,
    },
    {
      from: {
        id: "8506000",
        name: "Winterthur",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      to: {
        id: "8503016",
        name: "Zürich Flughafen",
        pos: {
          lat: 47.450386,
          lng: 8.562402,
        },
      },
      departure_schedule_time: 1635157440,
      departure_current_time: 1635157440,
      arrival_schedule_time: 1635158160,
      arrival_current_time: 1635158160,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 124,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 124,
      p_load_gt_100: 0,
      q_20: 124,
      q_50: 124,
      q_80: 124,
      q_5: 124,
      q_95: 124,
      min_pax: 124,
      max_pax: 124,
    },
    {
      from: {
        id: "8503016",
        name: "Zürich Flughafen",
        pos: {
          lat: 47.450386,
          lng: 8.562402,
        },
      },
      to: {
        id: "8503006",
        name: "Zürich Oerlikon",
        pos: {
          lat: 47.41153,
          lng: 8.54414,
        },
      },
      departure_schedule_time: 1635158280,
      departure_current_time: 1635158280,
      arrival_schedule_time: 1635158580,
      arrival_current_time: 1635158580,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 124,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 124,
      p_load_gt_100: 0,
      q_20: 124,
      q_50: 124,
      q_80: 124,
      q_5: 124,
      q_95: 124,
      min_pax: 124,
      max_pax: 124,
    },
    {
      from: {
        id: "8503006",
        name: "Zürich Oerlikon",
        pos: {
          lat: 47.41153,
          lng: 8.54414,
        },
      },
      to: {
        id: "8503000",
        name: "Zürich HB",
        pos: {
          lat: 47.378177,
          lng: 8.540212,
        },
      },
      departure_schedule_time: 1635158640,
      departure_current_time: 1635158640,
      arrival_schedule_time: 1635159060,
      arrival_current_time: 1635159060,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 124,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 124,
      p_load_gt_100: 0,
      q_20: 124,
      q_50: 124,
      q_80: 124,
      q_5: 124,
      q_95: 124,
      min_pax: 124,
      max_pax: 124,
    },
  ],
};

const testData6 = {
  tsi: {
    trip: {
      station_id: "8503000",
      train_nr: 2268,
      time: 1635160080,
      target_station_id: "8500010",
      target_time: 1635163980,
      line_id: "37",
    },
    primary_station: {
      id: "8503000",
      name: "Zürich HB",
      pos: {
        lat: 47.378177,
        lng: 8.540212,
      },
    },
    secondary_station: {
      id: "8500010",
      name: "Basel SBB",
      pos: {
        lat: 47.547412,
        lng: 7.589563,
      },
    },
    service_infos: [
      {
        name: "IR 37",
        category: "IR",
        train_nr: 2268,
        line: "37",
        provider: "Schweizerische Bundesbahnen SBB",
        clasz: 5,
      },
    ],
  },
  edges: [
    {
      from: {
        id: "8503000",
        name: "Zürich HB",
        pos: {
          lat: 47.378177,
          lng: 8.540212,
        },
      },
      to: {
        id: "8502119",
        name: "Lenzburg",
        pos: {
          lat: 47.3912,
          lng: 8.170393,
        },
      },
      departure_schedule_time: 1635160080,
      departure_current_time: 1635160080,
      arrival_schedule_time: 1635161280,
      arrival_current_time: 1635161280,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 51,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 51,
      p_load_gt_100: 0,
      q_20: 51,
      q_50: 51,
      q_80: 51,
      q_5: 51,
      q_95: 51,
      min_pax: 51,
      max_pax: 51,
    },
    {
      from: {
        id: "8502119",
        name: "Lenzburg",
        pos: {
          lat: 47.3912,
          lng: 8.170393,
        },
      },
      to: {
        id: "8502113",
        name: "Aarau",
        pos: {
          lat: 47.39136,
          lng: 8.051274,
        },
      },
      departure_schedule_time: 1635161340,
      departure_current_time: 1635161340,
      arrival_schedule_time: 1635161700,
      arrival_current_time: 1635161700,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 47,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 47,
      p_load_gt_100: 0,
      q_20: 47,
      q_50: 47,
      q_80: 47,
      q_5: 47,
      q_95: 47,
      min_pax: 47,
      max_pax: 47,
    },
    {
      from: {
        id: "8502113",
        name: "Aarau",
        pos: {
          lat: 47.39136,
          lng: 8.051274,
        },
      },
      to: {
        id: "8500026",
        name: "Sissach",
        pos: {
          lat: 47.462754,
          lng: 7.812028,
        },
      },
      departure_schedule_time: 1635161820,
      departure_current_time: 1635161820,
      arrival_schedule_time: 1635162840,
      arrival_current_time: 1635162840,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 44,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 44,
      p_load_gt_100: 0,
      q_20: 44,
      q_50: 44,
      q_80: 44,
      q_5: 44,
      q_95: 44,
      min_pax: 44,
      max_pax: 44,
    },
    {
      from: {
        id: "8500026",
        name: "Sissach",
        pos: {
          lat: 47.462754,
          lng: 7.812028,
        },
      },
      to: {
        id: "8500023",
        name: "Liestal",
        pos: {
          lat: 47.484461,
          lng: 7.731367,
        },
      },
      departure_schedule_time: 1635162900,
      departure_current_time: 1635162900,
      arrival_schedule_time: 1635163260,
      arrival_current_time: 1635163260,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 44,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 44,
      p_load_gt_100: 0,
      q_20: 44,
      q_50: 44,
      q_80: 44,
      q_5: 44,
      q_95: 44,
      min_pax: 44,
      max_pax: 44,
    },
    {
      from: {
        id: "8500023",
        name: "Liestal",
        pos: {
          lat: 47.484461,
          lng: 7.731367,
        },
      },
      to: {
        id: "8500010",
        name: "Basel SBB",
        pos: {
          lat: 47.547412,
          lng: 7.589563,
        },
      },
      departure_schedule_time: 1635163320,
      departure_current_time: 1635163320,
      arrival_schedule_time: 1635163980,
      arrival_current_time: 1635163980,
      capacity_type: "Known",
      capacity: 207,
      passenger_cdf: [
        {
          passengers: 26,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 26,
      p_load_gt_100: 0,
      q_20: 26,
      q_50: 26,
      q_80: 26,
      q_5: 26,
      q_95: 26,
      min_pax: 26,
      max_pax: 26,
    },
  ],
};
const testData7 = {
  tsi: {
    trip: {
      station_id: "8508100",
      train_nr: 8441,
      time: 1635151440,
      target_station_id: "8503504",
      target_time: 1635155700,
      line_id: "23",
    },
    primary_station: {
      id: "8508100",
      name: "Langenthal",
      pos: {
        lat: 47.217303,
        lng: 7.784715,
      },
    },
    secondary_station: {
      id: "8503504",
      name: "Baden",
      pos: {
        lat: 47.476424,
        lng: 8.307709,
      },
    },
    service_infos: [
      {
        name: "S 23",
        category: "S",
        train_nr: 8441,
        line: "23",
        provider: "Schweizerische Bundesbahnen SBB",
        clasz: 7,
      },
    ],
  },
  edges: [
    {
      from: {
        id: "8508100",
        name: "Langenthal",
        pos: {
          lat: 47.217303,
          lng: 7.784715,
        },
      },
      to: {
        id: "8508101",
        name: "Roggwil-Wynau",
        pos: {
          lat: 47.25164,
          lng: 7.814916,
        },
      },
      departure_schedule_time: 1635151440,
      departure_current_time: 1635151440,
      arrival_schedule_time: 1635151620,
      arrival_current_time: 1635151620,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 0,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 0,
      p_load_gt_100: 0,
      q_20: 0,
      q_50: 0,
      q_80: 0,
      q_5: 0,
      q_95: 0,
      min_pax: 0,
      max_pax: 0,
    },
    {
      from: {
        id: "8508101",
        name: "Roggwil-Wynau",
        pos: {
          lat: 47.25164,
          lng: 7.814916,
        },
      },
      to: {
        id: "8508102",
        name: "Murgenthal",
        pos: {
          lat: 47.265381,
          lng: 7.832106,
        },
      },
      departure_schedule_time: 1635151620,
      departure_current_time: 1635151620,
      arrival_schedule_time: 1635151800,
      arrival_current_time: 1635151800,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 0,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 0,
      p_load_gt_100: 0,
      q_20: 0,
      q_50: 0,
      q_80: 0,
      q_5: 0,
      q_95: 0,
      min_pax: 0,
      max_pax: 0,
    },
    {
      from: {
        id: "8508102",
        name: "Murgenthal",
        pos: {
          lat: 47.265381,
          lng: 7.832106,
        },
      },
      to: {
        id: "8508103",
        name: "Rothrist",
        pos: {
          lat: 47.306456,
          lng: 7.879396,
        },
      },
      departure_schedule_time: 1635151800,
      departure_current_time: 1635151800,
      arrival_schedule_time: 1635152100,
      arrival_current_time: 1635152100,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 0,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 0,
      p_load_gt_100: 0,
      q_20: 0,
      q_50: 0,
      q_80: 0,
      q_5: 0,
      q_95: 0,
      min_pax: 0,
      max_pax: 0,
    },
    {
      from: {
        id: "8508103",
        name: "Rothrist",
        pos: {
          lat: 47.306456,
          lng: 7.879396,
        },
      },
      to: {
        id: "8502000",
        name: "Aarburg-Oftringen",
        pos: {
          lat: 47.320268,
          lng: 7.908223,
        },
      },
      departure_schedule_time: 1635152160,
      departure_current_time: 1635152160,
      arrival_schedule_time: 1635152340,
      arrival_current_time: 1635152340,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 0,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 0,
      p_load_gt_100: 0,
      q_20: 0,
      q_50: 0,
      q_80: 0,
      q_5: 0,
      q_95: 0,
      min_pax: 0,
      max_pax: 0,
    },
    {
      from: {
        id: "8502000",
        name: "Aarburg-Oftringen",
        pos: {
          lat: 47.320268,
          lng: 7.908223,
        },
      },
      to: {
        id: "8500218",
        name: "Olten",
        pos: {
          lat: 47.351935,
          lng: 7.9077,
        },
      },
      departure_schedule_time: 1635152340,
      departure_current_time: 1635152340,
      arrival_schedule_time: 1635152580,
      arrival_current_time: 1635152580,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 0,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 0,
      p_load_gt_100: 0,
      q_20: 0,
      q_50: 0,
      q_80: 0,
      q_5: 0,
      q_95: 0,
      min_pax: 0,
      max_pax: 0,
    },
    {
      from: {
        id: "8500218",
        name: "Olten",
        pos: {
          lat: 47.351935,
          lng: 7.9077,
        },
      },
      to: {
        id: "8502111",
        name: "Däniken SO",
        pos: {
          lat: 47.35639,
          lng: 7.978771,
        },
      },
      departure_schedule_time: 1635152700,
      departure_current_time: 1635152700,
      arrival_schedule_time: 1635153000,
      arrival_current_time: 1635153000,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 133,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 133,
      p_load_gt_100: 0,
      q_20: 133,
      q_50: 133,
      q_80: 133,
      q_5: 133,
      q_95: 133,
      min_pax: 133,
      max_pax: 133,
    },
    {
      from: {
        id: "8502111",
        name: "Däniken SO",
        pos: {
          lat: 47.35639,
          lng: 7.978771,
        },
      },
      to: {
        id: "8502112",
        name: "Schönenwerd SO",
        pos: {
          lat: 47.371424,
          lng: 8.000158,
        },
      },
      departure_schedule_time: 1635153000,
      departure_current_time: 1635153000,
      arrival_schedule_time: 1635153180,
      arrival_current_time: 1635153180,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 133,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 133,
      p_load_gt_100: 0,
      q_20: 133,
      q_50: 133,
      q_80: 133,
      q_5: 133,
      q_95: 133,
      min_pax: 133,
      max_pax: 133,
    },
    {
      from: {
        id: "8502112",
        name: "Schönenwerd SO",
        pos: {
          lat: 47.371424,
          lng: 8.000158,
        },
      },
      to: {
        id: "8502113",
        name: "Aarau",
        pos: {
          lat: 47.39136,
          lng: 8.051274,
        },
      },
      departure_schedule_time: 1635153180,
      departure_current_time: 1635153180,
      arrival_schedule_time: 1635153420,
      arrival_current_time: 1635153420,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 133,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 133,
      p_load_gt_100: 0,
      q_20: 133,
      q_50: 133,
      q_80: 133,
      q_5: 133,
      q_95: 133,
      min_pax: 133,
      max_pax: 133,
    },
    {
      from: {
        id: "8502113",
        name: "Aarau",
        pos: {
          lat: 47.39136,
          lng: 8.051274,
        },
      },
      to: {
        id: "8502114",
        name: "Rupperswil",
        pos: {
          lat: 47.40329,
          lng: 8.126956,
        },
      },
      departure_schedule_time: 1635153480,
      departure_current_time: 1635153480,
      arrival_schedule_time: 1635153720,
      arrival_current_time: 1635153720,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 133,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 133,
      p_load_gt_100: 0,
      q_20: 133,
      q_50: 133,
      q_80: 133,
      q_5: 133,
      q_95: 133,
      min_pax: 133,
      max_pax: 133,
    },
    {
      from: {
        id: "8502114",
        name: "Rupperswil",
        pos: {
          lat: 47.40329,
          lng: 8.126956,
        },
      },
      to: {
        id: "8502119",
        name: "Lenzburg",
        pos: {
          lat: 47.3912,
          lng: 8.170393,
        },
      },
      departure_schedule_time: 1635153780,
      departure_current_time: 1635153780,
      arrival_schedule_time: 1635153960,
      arrival_current_time: 1635153960,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 133,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 133,
      p_load_gt_100: 0,
      q_20: 133,
      q_50: 133,
      q_80: 133,
      q_5: 133,
      q_95: 133,
      min_pax: 133,
      max_pax: 133,
    },
    {
      from: {
        id: "8502119",
        name: "Lenzburg",
        pos: {
          lat: 47.3912,
          lng: 8.170393,
        },
      },
      to: {
        id: "8502105",
        name: "Othmarsingen",
        pos: {
          lat: 47.407434,
          lng: 8.214805,
        },
      },
      departure_schedule_time: 1635154020,
      departure_current_time: 1635154020,
      arrival_schedule_time: 1635154260,
      arrival_current_time: 1635154260,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 85,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 85,
      p_load_gt_100: 0,
      q_20: 85,
      q_50: 85,
      q_80: 85,
      q_5: 85,
      q_95: 85,
      min_pax: 85,
      max_pax: 85,
    },
    {
      from: {
        id: "8502105",
        name: "Othmarsingen",
        pos: {
          lat: 47.407434,
          lng: 8.214805,
        },
      },
      to: {
        id: "8502247",
        name: "Birr",
        pos: {
          lat: 47.435847,
          lng: 8.217665,
        },
      },
      departure_schedule_time: 1635154440,
      departure_current_time: 1635154440,
      arrival_schedule_time: 1635154620,
      arrival_current_time: 1635154620,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 85,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 85,
      p_load_gt_100: 0,
      q_20: 85,
      q_50: 85,
      q_80: 85,
      q_5: 85,
      q_95: 85,
      min_pax: 85,
      max_pax: 85,
    },
    {
      from: {
        id: "8502247",
        name: "Birr",
        pos: {
          lat: 47.435847,
          lng: 8.217665,
        },
      },
      to: {
        id: "8502237",
        name: "Lupfig",
        pos: {
          lat: 47.445184,
          lng: 8.21499,
        },
      },
      departure_schedule_time: 1635154620,
      departure_current_time: 1635154620,
      arrival_schedule_time: 1635154740,
      arrival_current_time: 1635154740,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 85,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 85,
      p_load_gt_100: 0,
      q_20: 85,
      q_50: 85,
      q_80: 85,
      q_5: 85,
      q_95: 85,
      min_pax: 85,
      max_pax: 85,
    },
    {
      from: {
        id: "8502237",
        name: "Lupfig",
        pos: {
          lat: 47.445184,
          lng: 8.21499,
        },
      },
      to: {
        id: "8500309",
        name: "Brugg AG",
        pos: {
          lat: 47.48086,
          lng: 8.208845,
        },
      },
      departure_schedule_time: 1635154800,
      departure_current_time: 1635154800,
      arrival_schedule_time: 1635155040,
      arrival_current_time: 1635155040,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 85,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 85,
      p_load_gt_100: 0,
      q_20: 85,
      q_50: 85,
      q_80: 85,
      q_5: 85,
      q_95: 85,
      min_pax: 85,
      max_pax: 85,
    },
    {
      from: {
        id: "8500309",
        name: "Brugg AG",
        pos: {
          lat: 47.48086,
          lng: 8.208845,
        },
      },
      to: {
        id: "8503503",
        name: "Turgi",
        pos: {
          lat: 47.491757,
          lng: 8.253459,
        },
      },
      departure_schedule_time: 1635155100,
      departure_current_time: 1635155100,
      arrival_schedule_time: 1635155340,
      arrival_current_time: 1635155340,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 61,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 61,
      p_load_gt_100: 0,
      q_20: 61,
      q_50: 61,
      q_80: 61,
      q_5: 61,
      q_95: 61,
      min_pax: 61,
      max_pax: 61,
    },
    {
      from: {
        id: "8503503",
        name: "Turgi",
        pos: {
          lat: 47.491757,
          lng: 8.253459,
        },
      },
      to: {
        id: "8503504",
        name: "Baden",
        pos: {
          lat: 47.476424,
          lng: 8.307709,
        },
      },
      departure_schedule_time: 1635155340,
      departure_current_time: 1635155340,
      arrival_schedule_time: 1635155700,
      arrival_current_time: 1635155700,
      capacity_type: "Known",
      capacity: 349,
      passenger_cdf: [
        {
          passengers: 20,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 20,
      p_load_gt_100: 0,
      q_20: 20,
      q_50: 20,
      q_80: 20,
      q_5: 20,
      q_95: 20,
      min_pax: 20,
      max_pax: 20,
    },
  ],
};

const testData8 = {
  tsi: {
    trip: {
      station_id: "8503000",
      train_nr: 3267,
      time: 1635156540,
      target_station_id: "8509000",
      target_time: 1635166080,
      line_id: "13",
    },
    primary_station: {
      id: "8503000",
      name: "Zürich HB",
      pos: {
        lat: 47.378177,
        lng: 8.540212,
      },
    },
    secondary_station: {
      id: "8509000",
      name: "Chur",
      pos: {
        lat: 46.853084,
        lng: 9.528938,
      },
    },
    service_infos: [
      {
        name: "IR 13",
        category: "IR",
        train_nr: 3267,
        line: "13",
        provider: "Schweizerische Bundesbahnen SBB",
        clasz: 5,
      },
    ],
  },
  edges: [
    {
      from: {
        id: "8503000",
        name: "Zürich HB",
        pos: {
          lat: 47.378177,
          lng: 8.540212,
        },
      },
      to: {
        id: "8503006",
        name: "Zürich Oerlikon",
        pos: {
          lat: 47.41153,
          lng: 8.54414,
        },
      },
      departure_schedule_time: 1635156540,
      departure_current_time: 1635156540,
      arrival_schedule_time: 1635156900,
      arrival_current_time: 1635156900,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 70,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 70,
      p_load_gt_100: 0,
      q_20: 70,
      q_50: 70,
      q_80: 70,
      q_5: 70,
      q_95: 70,
      min_pax: 70,
      max_pax: 70,
    },
    {
      from: {
        id: "8503006",
        name: "Zürich Oerlikon",
        pos: {
          lat: 47.41153,
          lng: 8.54414,
        },
      },
      to: {
        id: "8503016",
        name: "Zürich Flughafen",
        pos: {
          lat: 47.450386,
          lng: 8.562402,
        },
      },
      departure_schedule_time: 1635156960,
      departure_current_time: 1635156960,
      arrival_schedule_time: 1635157260,
      arrival_current_time: 1635157260,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 70,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 70,
      p_load_gt_100: 0,
      q_20: 70,
      q_50: 70,
      q_80: 70,
      q_5: 70,
      q_95: 70,
      min_pax: 70,
      max_pax: 70,
    },
    {
      from: {
        id: "8503016",
        name: "Zürich Flughafen",
        pos: {
          lat: 47.450386,
          lng: 8.562402,
        },
      },
      to: {
        id: "8506000",
        name: "Winterthur",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      departure_schedule_time: 1635157380,
      departure_current_time: 1635157380,
      arrival_schedule_time: 1635158160,
      arrival_current_time: 1635158160,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 70,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 70,
      p_load_gt_100: 0,
      q_20: 70,
      q_50: 70,
      q_80: 70,
      q_5: 70,
      q_95: 70,
      min_pax: 70,
      max_pax: 70,
    },
    {
      from: {
        id: "8506000",
        name: "Winterthur",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      to: {
        id: "8506206",
        name: "Wil SG",
        pos: {
          lat: 47.462413,
          lng: 9.040993,
        },
      },
      departure_schedule_time: 1635158280,
      departure_current_time: 1635158280,
      arrival_schedule_time: 1635159300,
      arrival_current_time: 1635159300,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 70,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 70,
      p_load_gt_100: 0,
      q_20: 70,
      q_50: 70,
      q_80: 70,
      q_5: 70,
      q_95: 70,
      min_pax: 70,
      max_pax: 70,
    },
    {
      from: {
        id: "8506206",
        name: "Wil SG",
        pos: {
          lat: 47.462413,
          lng: 9.040993,
        },
      },
      to: {
        id: "8506208",
        name: "Uzwil",
        pos: {
          lat: 47.436444,
          lng: 9.130992,
        },
      },
      departure_schedule_time: 1635159360,
      departure_current_time: 1635159360,
      arrival_schedule_time: 1635159780,
      arrival_current_time: 1635159780,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 70,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 70,
      p_load_gt_100: 0,
      q_20: 70,
      q_50: 70,
      q_80: 70,
      q_5: 70,
      q_95: 70,
      min_pax: 70,
      max_pax: 70,
    },
    {
      from: {
        id: "8506208",
        name: "Uzwil",
        pos: {
          lat: 47.436444,
          lng: 9.130992,
        },
      },
      to: {
        id: "8506209",
        name: "Flawil",
        pos: {
          lat: 47.415189,
          lng: 9.189786,
        },
      },
      departure_schedule_time: 1635159840,
      departure_current_time: 1635159840,
      arrival_schedule_time: 1635160140,
      arrival_current_time: 1635160140,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 100,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 100,
      p_load_gt_100: 0,
      q_20: 100,
      q_50: 100,
      q_80: 100,
      q_5: 100,
      q_95: 100,
      min_pax: 100,
      max_pax: 100,
    },
    {
      from: {
        id: "8506209",
        name: "Flawil",
        pos: {
          lat: 47.415189,
          lng: 9.189786,
        },
      },
      to: {
        id: "8506210",
        name: "Gossau SG",
        pos: {
          lat: 47.411832,
          lng: 9.253051,
        },
      },
      departure_schedule_time: 1635160140,
      departure_current_time: 1635160140,
      arrival_schedule_time: 1635160440,
      arrival_current_time: 1635160440,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 100,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 100,
      p_load_gt_100: 0,
      q_20: 100,
      q_50: 100,
      q_80: 100,
      q_5: 100,
      q_95: 100,
      min_pax: 100,
      max_pax: 100,
    },
    {
      from: {
        id: "8506210",
        name: "Gossau SG",
        pos: {
          lat: 47.411832,
          lng: 9.253051,
        },
      },
      to: {
        id: "8506302",
        name: "St. Gallen",
        pos: {
          lat: 47.423179,
          lng: 9.369897,
        },
      },
      departure_schedule_time: 1635160500,
      departure_current_time: 1635160500,
      arrival_schedule_time: 1635160920,
      arrival_current_time: 1635160920,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 100,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 100,
      p_load_gt_100: 0,
      q_20: 100,
      q_50: 100,
      q_80: 100,
      q_5: 100,
      q_95: 100,
      min_pax: 100,
      max_pax: 100,
    },
    {
      from: {
        id: "8506302",
        name: "St. Gallen",
        pos: {
          lat: 47.423179,
          lng: 9.369897,
        },
      },
      to: {
        id: "8506311",
        name: "Rorschach",
        pos: {
          lat: 47.478002,
          lng: 9.505141,
        },
      },
      departure_schedule_time: 1635161100,
      departure_current_time: 1635161100,
      arrival_schedule_time: 1635161940,
      arrival_current_time: 1635161940,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 148,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 148,
      p_load_gt_100: 1,
      q_20: 148,
      q_50: 148,
      q_80: 148,
      q_5: 148,
      q_95: 148,
      min_pax: 148,
      max_pax: 148,
    },
    {
      from: {
        id: "8506311",
        name: "Rorschach",
        pos: {
          lat: 47.478002,
          lng: 9.505141,
        },
      },
      to: {
        id: "8506314",
        name: "St. Margrethen SG",
        pos: {
          lat: 47.453216,
          lng: 9.638262,
        },
      },
      departure_schedule_time: 1635161940,
      departure_current_time: 1635161940,
      arrival_schedule_time: 1635162420,
      arrival_current_time: 1635162420,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 148,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 148,
      p_load_gt_100: 1,
      q_20: 148,
      q_50: 148,
      q_80: 148,
      q_5: 148,
      q_95: 148,
      min_pax: 148,
      max_pax: 148,
    },
    {
      from: {
        id: "8506314",
        name: "St. Margrethen SG",
        pos: {
          lat: 47.453216,
          lng: 9.638262,
        },
      },
      to: {
        id: "8506317",
        name: "Heerbrugg",
        pos: {
          lat: 47.410393,
          lng: 9.627249,
        },
      },
      departure_schedule_time: 1635162420,
      departure_current_time: 1635162420,
      arrival_schedule_time: 1635162720,
      arrival_current_time: 1635162720,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 148,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 148,
      p_load_gt_100: 1,
      q_20: 148,
      q_50: 148,
      q_80: 148,
      q_5: 148,
      q_95: 148,
      min_pax: 148,
      max_pax: 148,
    },
    {
      from: {
        id: "8506317",
        name: "Heerbrugg",
        pos: {
          lat: 47.410393,
          lng: 9.627249,
        },
      },
      to: {
        id: "8506319",
        name: "Altstätten SG",
        pos: {
          lat: 47.374235,
          lng: 9.55652,
        },
      },
      departure_schedule_time: 1635162720,
      departure_current_time: 1635162720,
      arrival_schedule_time: 1635163140,
      arrival_current_time: 1635163140,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 147,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 147,
      p_load_gt_100: 1,
      q_20: 147,
      q_50: 147,
      q_80: 147,
      q_5: 147,
      q_95: 147,
      min_pax: 147,
      max_pax: 147,
    },
    {
      from: {
        id: "8506319",
        name: "Altstätten SG",
        pos: {
          lat: 47.374235,
          lng: 9.55652,
        },
      },
      to: {
        id: "8509404",
        name: "Buchs SG",
        pos: {
          lat: 47.168412,
          lng: 9.478637,
        },
      },
      departure_schedule_time: 1635163140,
      departure_current_time: 1635163140,
      arrival_schedule_time: 1635164100,
      arrival_current_time: 1635164100,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 147,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 147,
      p_load_gt_100: 1,
      q_20: 147,
      q_50: 147,
      q_80: 147,
      q_5: 147,
      q_95: 147,
      min_pax: 147,
      max_pax: 147,
    },
    {
      from: {
        id: "8509404",
        name: "Buchs SG",
        pos: {
          lat: 47.168412,
          lng: 9.478637,
        },
      },
      to: {
        id: "8509411",
        name: "Sargans",
        pos: {
          lat: 47.044824,
          lng: 9.44626,
        },
      },
      departure_schedule_time: 1635164100,
      departure_current_time: 1635164100,
      arrival_schedule_time: 1635164640,
      arrival_current_time: 1635164640,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 143,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 143,
      p_load_gt_100: 1,
      q_20: 143,
      q_50: 143,
      q_80: 143,
      q_5: 143,
      q_95: 143,
      min_pax: 143,
      max_pax: 143,
    },
    {
      from: {
        id: "8509411",
        name: "Sargans",
        pos: {
          lat: 47.044824,
          lng: 9.44626,
        },
      },
      to: {
        id: "8509004",
        name: "Bad Ragaz",
        pos: {
          lat: 47.010309,
          lng: 9.505225,
        },
      },
      departure_schedule_time: 1635164820,
      departure_current_time: 1635164820,
      arrival_schedule_time: 1635165120,
      arrival_current_time: 1635165120,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 140,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 140,
      p_load_gt_100: 1,
      q_20: 140,
      q_50: 140,
      q_80: 140,
      q_5: 140,
      q_95: 140,
      min_pax: 140,
      max_pax: 140,
    },
    {
      from: {
        id: "8509004",
        name: "Bad Ragaz",
        pos: {
          lat: 47.010309,
          lng: 9.505225,
        },
      },
      to: {
        id: "8509002",
        name: "Landquart",
        pos: {
          lat: 46.96744,
          lng: 9.554045,
        },
      },
      departure_schedule_time: 1635165180,
      departure_current_time: 1635165180,
      arrival_schedule_time: 1635165420,
      arrival_current_time: 1635165420,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 140,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 140,
      p_load_gt_100: 1,
      q_20: 140,
      q_50: 140,
      q_80: 140,
      q_5: 140,
      q_95: 140,
      min_pax: 140,
      max_pax: 140,
    },
    {
      from: {
        id: "8509002",
        name: "Landquart",
        pos: {
          lat: 46.96744,
          lng: 9.554045,
        },
      },
      to: {
        id: "8509000",
        name: "Chur",
        pos: {
          lat: 46.853084,
          lng: 9.528938,
        },
      },
      departure_schedule_time: 1635165480,
      departure_current_time: 1635165480,
      arrival_schedule_time: 1635166080,
      arrival_current_time: 1635166080,
      capacity_type: "Known",
      capacity: 103,
      passenger_cdf: [
        {
          passengers: 119,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 119,
      p_load_gt_100: 1,
      q_20: 119,
      q_50: 119,
      q_80: 119,
      q_5: 119,
      q_95: 119,
      min_pax: 119,
      max_pax: 119,
    },
  ],
};

const testData9 = {
  tsi: {
    trip: {
      station_id: "8506302",
      train_nr: 1524,
      time: 1635161280,
      target_station_id: "8501120",
      target_time: 1635173100,
      line_id: "5",
    },
    primary_station: {
      id: "8506302",
      name: "St. Gallen",
      pos: {
        lat: 47.423179,
        lng: 9.369897,
      },
    },
    secondary_station: {
      id: "8501120",
      name: "Lausanne",
      pos: {
        lat: 46.516792,
        lng: 6.629092,
      },
    },
    service_infos: [
      {
        name: "IC 5",
        category: "IC",
        train_nr: 1524,
        line: "5",
        provider: "Schweizerische Bundesbahnen SBB",
        clasz: 2,
      },
    ],
  },
  edges: [
    {
      from: {
        id: "8506302",
        name: "St. Gallen",
        pos: {
          lat: 47.423179,
          lng: 9.369897,
        },
      },
      to: {
        id: "8506000",
        name: "Winterthur",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      departure_schedule_time: 1635161280,
      departure_current_time: 1635161280,
      arrival_schedule_time: 1635163260,
      arrival_current_time: 1635163260,
      capacity_type: "Known",
      capacity: 530,
      passenger_cdf: [
        {
          passengers: 587,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 587,
      p_load_gt_100: 1,
      q_20: 587,
      q_50: 587,
      q_80: 587,
      q_5: 587,
      q_95: 587,
      min_pax: 587,
      max_pax: 587,
    },
    {
      from: {
        id: "8506000",
        name: "Winterthur",
        pos: {
          lat: 47.500334,
          lng: 8.723821,
        },
      },
      to: {
        id: "8503016",
        name: "Zürich Flughafen",
        pos: {
          lat: 47.450386,
          lng: 8.562402,
        },
      },
      departure_schedule_time: 1635163380,
      departure_current_time: 1635163380,
      arrival_schedule_time: 1635164160,
      arrival_current_time: 1635164160,
      capacity_type: "Known",
      capacity: 530,
      passenger_cdf: [
        {
          passengers: 590,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 590,
      p_load_gt_100: 1,
      q_20: 590,
      q_50: 590,
      q_80: 590,
      q_5: 590,
      q_95: 590,
      min_pax: 590,
      max_pax: 590,
    },
    {
      from: {
        id: "8503016",
        name: "Zürich Flughafen",
        pos: {
          lat: 47.450386,
          lng: 8.562402,
        },
      },
      to: {
        id: "8503000",
        name: "Zürich HB",
        pos: {
          lat: 47.378177,
          lng: 8.540212,
        },
      },
      departure_schedule_time: 1635164280,
      departure_current_time: 1635164280,
      arrival_schedule_time: 1635164820,
      arrival_current_time: 1635164820,
      capacity_type: "Known",
      capacity: 530,
      passenger_cdf: [
        {
          passengers: 619,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 619,
      p_load_gt_100: 1,
      q_20: 619,
      q_50: 619,
      q_80: 619,
      q_5: 619,
      q_95: 619,
      min_pax: 619,
      max_pax: 619,
    },
    {
      from: {
        id: "8503000",
        name: "Zürich HB",
        pos: {
          lat: 47.378177,
          lng: 8.540212,
        },
      },
      to: {
        id: "8500218",
        name: "Olten",
        pos: {
          lat: 47.351935,
          lng: 7.9077,
        },
      },
      departure_schedule_time: 1635165000,
      departure_current_time: 1635165000,
      arrival_schedule_time: 1635166800,
      arrival_current_time: 1635166800,
      capacity_type: "Known",
      capacity: 530,
      passenger_cdf: [
        {
          passengers: 789,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 789,
      p_load_gt_100: 1,
      q_20: 789,
      q_50: 789,
      q_80: 789,
      q_5: 789,
      q_95: 789,
      min_pax: 789,
      max_pax: 789,
    },
    {
      from: {
        id: "8500218",
        name: "Olten",
        pos: {
          lat: 47.351935,
          lng: 7.9077,
        },
      },
      to: {
        id: "8500212",
        name: "Oensingen",
        pos: {
          lat: 47.285035,
          lng: 7.70987,
        },
      },
      departure_schedule_time: 1635166920,
      departure_current_time: 1635166920,
      arrival_schedule_time: 1635167580,
      arrival_current_time: 1635167580,
      capacity_type: "Known",
      capacity: 530,
      passenger_cdf: [
        {
          passengers: 785,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 785,
      p_load_gt_100: 1,
      q_20: 785,
      q_50: 785,
      q_80: 785,
      q_5: 785,
      q_95: 785,
      min_pax: 785,
      max_pax: 785,
    },
    {
      from: {
        id: "8500212",
        name: "Oensingen",
        pos: {
          lat: 47.285035,
          lng: 7.70987,
        },
      },
      to: {
        id: "8500207",
        name: "Solothurn",
        pos: {
          lat: 47.204193,
          lng: 7.542689,
        },
      },
      departure_schedule_time: 1635167640,
      departure_current_time: 1635167640,
      arrival_schedule_time: 1635168240,
      arrival_current_time: 1635168240,
      capacity_type: "Known",
      capacity: 530,
      passenger_cdf: [
        {
          passengers: 787,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 787,
      p_load_gt_100: 1,
      q_20: 787,
      q_50: 787,
      q_80: 787,
      q_5: 787,
      q_95: 787,
      min_pax: 787,
      max_pax: 787,
    },
    {
      from: {
        id: "8500207",
        name: "Solothurn",
        pos: {
          lat: 47.204193,
          lng: 7.542689,
        },
      },
      to: {
        id: "8500202",
        name: "Grenchen Süd",
        pos: {
          lat: 47.188775,
          lng: 7.39818,
        },
      },
      departure_schedule_time: 1635168360,
      departure_current_time: 1635168360,
      arrival_schedule_time: 1635168780,
      arrival_current_time: 1635168780,
      capacity_type: "Known",
      capacity: 530,
      passenger_cdf: [
        {
          passengers: 769,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 769,
      p_load_gt_100: 1,
      q_20: 769,
      q_50: 769,
      q_80: 769,
      q_5: 769,
      q_95: 769,
      min_pax: 769,
      max_pax: 769,
    },
    {
      from: {
        id: "8500202",
        name: "Grenchen Süd",
        pos: {
          lat: 47.188775,
          lng: 7.39818,
        },
      },
      to: {
        id: "8504300",
        name: "Biel/Bienne",
        pos: {
          lat: 47.132898,
          lng: 7.242911,
        },
      },
      departure_schedule_time: 1635168840,
      departure_current_time: 1635168840,
      arrival_schedule_time: 1635169380,
      arrival_current_time: 1635169380,
      capacity_type: "Known",
      capacity: 530,
      passenger_cdf: [
        {
          passengers: 769,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 769,
      p_load_gt_100: 1,
      q_20: 769,
      q_50: 769,
      q_80: 769,
      q_5: 769,
      q_95: 769,
      min_pax: 769,
      max_pax: 769,
    },
    {
      from: {
        id: "8504300",
        name: "Biel/Bienne",
        pos: {
          lat: 47.132898,
          lng: 7.242911,
        },
      },
      to: {
        id: "8504221",
        name: "Neuchâtel",
        pos: {
          lat: 46.996727,
          lng: 6.935702,
        },
      },
      departure_schedule_time: 1635169500,
      departure_current_time: 1635169500,
      arrival_schedule_time: 1635170460,
      arrival_current_time: 1635170460,
      capacity_type: "Known",
      capacity: 530,
      passenger_cdf: [
        {
          passengers: 754,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 754,
      p_load_gt_100: 1,
      q_20: 754,
      q_50: 754,
      q_80: 754,
      q_5: 754,
      q_95: 754,
      min_pax: 754,
      max_pax: 754,
    },
    {
      from: {
        id: "8504221",
        name: "Neuchâtel",
        pos: {
          lat: 46.996727,
          lng: 6.935702,
        },
      },
      to: {
        id: "8504200",
        name: "Yverdon-les-Bains",
        pos: {
          lat: 46.781545,
          lng: 6.640944,
        },
      },
      departure_schedule_time: 1635170580,
      departure_current_time: 1635170580,
      arrival_schedule_time: 1635171600,
      arrival_current_time: 1635171600,
      capacity_type: "Known",
      capacity: 530,
      passenger_cdf: [
        {
          passengers: 612,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: true,
      expected_passengers: 612,
      p_load_gt_100: 1,
      q_20: 612,
      q_50: 612,
      q_80: 612,
      q_5: 612,
      q_95: 612,
      min_pax: 612,
      max_pax: 612,
    },
    {
      from: {
        id: "8504200",
        name: "Yverdon-les-Bains",
        pos: {
          lat: 46.781545,
          lng: 6.640944,
        },
      },
      to: {
        id: "8501120",
        name: "Lausanne",
        pos: {
          lat: 46.516792,
          lng: 6.629092,
        },
      },
      departure_schedule_time: 1635171720,
      departure_current_time: 1635171720,
      arrival_schedule_time: 1635173100,
      arrival_current_time: 1635173100,
      capacity_type: "Known",
      capacity: 530,
      passenger_cdf: [
        {
          passengers: 510,
          probability: 1,
        },
      ],
      updated: false,
      possibly_over_capacity: false,
      expected_passengers: 510,
      p_load_gt_100: 0,
      q_20: 510,
      q_50: 510,
      q_80: 510,
      q_5: 510,
      q_95: 510,
      min_pax: 510,
      max_pax: 510,
    },
  ],
};

const data = [
  testData,
  testData2,
  testData3,
  testData4,
  testData5,
  testData6,
  testData7,
  testData8,
  testData9,
];

const PeakSpotting = ({
  width = Math.max(900, window.screen.availWidth / 2) - 10,
}) => {
  return (
    <>
      <div
        className="grid grid-flow-col"
        style={{ backgroundColor: colorSchema.lightGrey }}
      >
        <div style={{ marginLeft: "10px", marginRight: "10px", width: width }}>
          {/** Der Titel Teil, der nachher ausgelagert werden soll */}
          <HorizontalTripDisplayTitle
            width={width}
            title={`Alle Züge (${data.length})`}
          />
          {/** Der eigentliche Teil */}
          {data.map((d) => (
            <HorizontalTripDisplay
              key={d.tsi.service_infos[0].train_nr}
              tripData={d}
              width={width}
              selectedTrip={1516}
            />
          ))}
        </div>
        {/** Prognose und so */}
        <div style={{ marginLeft: "0px", marginRight: "5px", width: width }}>
          <VerticalTripDisplay trip={testData} width={width} />
        </div>
      </div>
    </>
  );
};

export default PeakSpotting;
